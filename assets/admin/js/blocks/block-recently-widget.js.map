{"version":3,"file":"block-recently-widget.js","mappings":"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","sources":["webpack://recently/./src/Block/Widget/edit.js","webpack://recently/./src/Block/icons.js","webpack://recently/./src/Block/utils.js","webpack://recently/external window [\"wp\",\"element\"]","webpack://recently/webpack/bootstrap","webpack://recently/webpack/runtime/compat get default export","webpack://recently/webpack/runtime/define property getters","webpack://recently/webpack/runtime/hasOwnProperty shorthand","webpack://recently/webpack/runtime/make namespace object","webpack://recently/./src/Block/Widget/widget.js"],"sourcesContent":["import { escape_html, unescape_html } from '../utils';\r\n\r\nconst { serverSideRender: ServerSideRender } = wp;\r\nconst { Component, Fragment } = wp.element;\r\nconst { BlockControls } = wp.blockEditor;\r\nconst { CheckboxControl, Disabled, SelectControl, Spinner, TextareaControl, TextControl, Toolbar, ToolbarButton } = wp.components;\r\nconst { __ } = wp.i18n;\r\nconst endpoint = 'recently/v1';\r\n\r\nexport class RecentlyWidgetBlockEdit extends Component\r\n{\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n\r\n        this.state = {\r\n            error: null,\r\n            editMode: true,\r\n            themes: null,\r\n            imgSizes: null,\r\n            taxonomies: null\r\n        }\r\n\r\n        const { attributes, setAttributes, clientId } = this.props;\r\n        const { blockID } = attributes;\r\n\r\n        if ( ! blockID ) {\r\n            setAttributes( { blockID: clientId } );\r\n        }\r\n    }\r\n\r\n    componentDidMount()\r\n    {\r\n        const { attributes } = this.props;\r\n\r\n        this.getThemes();\r\n        this.getImageSizes();\r\n        this.getTaxonomies();\r\n\r\n        this.setState({ editMode: attributes._editMode });\r\n    }\r\n\r\n    getThemes()\r\n    {\r\n        wp.apiFetch({ path: endpoint + '/themes' })\r\n        .then(\r\n            ( themes ) => {\r\n                this.setState({\r\n                    themes\r\n                });\r\n            },\r\n            ( error ) => {\r\n                this.setState({\r\n                    error,\r\n                    themes: null\r\n                });\r\n            }\r\n        );\r\n    }\r\n\r\n    getImageSizes()\r\n    {\r\n        wp.apiFetch({ path: endpoint + '/thumbnails' })\r\n        .then(\r\n            ( imgSizes ) => {\r\n                this.setState({\r\n                    imgSizes\r\n                });\r\n            },\r\n            ( error ) => {\r\n                this.setState({\r\n                    error,\r\n                    imgSizes: null\r\n                });\r\n            }\r\n        );\r\n    }\r\n\r\n    getTaxonomies()\r\n    {\r\n        const { attributes } = this.props;\r\n\r\n        wp.apiFetch({ path: endpoint + '/taxonomies' })\r\n        .then(\r\n            ( taxonomies ) => {\r\n                if ( taxonomies ) {\r\n                    let tax = attributes.taxonomy.split(';'),\r\n                        term_id = attributes.term_id.split(';'),\r\n                        term_slug = attributes.term_slug.split(';');\r\n\r\n                    if ( tax.length && (tax.length == term_id.length || tax.length == term_slug.length) ) {\r\n                        let selected_taxonomies = {};\r\n\r\n                        for( var t = 0; t < tax.length; t++ ) {\r\n                            selected_taxonomies[tax[t]] = term_id[t];\r\n                        }\r\n\r\n                        for( const tax in taxonomies ) {\r\n                            taxonomies[tax]._terms = 'undefined' != typeof selected_taxonomies[tax] ? selected_taxonomies[tax] : '';\r\n                        }\r\n                    }\r\n                }\r\n\r\n                this.setState({\r\n                    taxonomies\r\n                });\r\n            },\r\n            ( error ) => {\r\n                this.setState({\r\n                    error,\r\n                    taxonomies: null\r\n                });\r\n            }\r\n        );\r\n    }\r\n\r\n    getBlockControls()\r\n    {\r\n        const { setAttributes } = this.props;\r\n        const _self = this;\r\n\r\n        function onPreviewChange()\r\n        {\r\n            let editMode = ! _self.state.editMode;\r\n            _self.setState({ editMode: editMode });\r\n            setAttributes({ _editMode: editMode });\r\n        }\r\n\r\n        return (\r\n            <BlockControls>\r\n                <Toolbar label=\"{ __('Settings') }\">\r\n                    <ToolbarButton\r\n                        label={ this.state.editMode ? __('Preview', 'recently') : __('Edit', 'recently') }\r\n                        icon={ this.state.editMode ? \"format-image\" : \"edit\" }\r\n                        onClick={onPreviewChange}\r\n                    />\r\n                </Toolbar>\r\n            </BlockControls>\r\n        );\r\n    }\r\n\r\n    getMainFields()\r\n    {\r\n        const { attributes, setAttributes } = this.props;\r\n\r\n        function onTitleChange(value)\r\n        {\r\n            value = escape_html(unescape_html(value));\r\n            setAttributes({ title: value });\r\n        }\r\n\r\n        function onLimitChange(value)\r\n        {\r\n            let limit = Number.isInteger(Number(value)) && Number(value) > 0 ? value : 10;\r\n            setAttributes({ posts_per_page: Number(limit) });\r\n        }\r\n\r\n        function onOffsetChange(value)\r\n        {\r\n            let limit = Number.isInteger(Number(value)) && Number(value) >= 0 ? value : 10;\r\n            setAttributes({ offset: Number(limit) });\r\n        }\r\n\r\n        return <Fragment>\r\n            <TextControl\r\n                label={__('Title', 'recently')}\r\n                value={attributes.title}\r\n                onChange={onTitleChange}\r\n            />\r\n            <TextControl\r\n                label={__('Limit', 'recently')}\r\n                help={__('Max. number of posts to show.', 'recently')}\r\n                value={attributes.posts_per_page}\r\n                onChange={onLimitChange}\r\n            />\r\n            <TextControl\r\n                label={__('Offset', 'recently')}\r\n                help={__('Number of posts to displace or pass over.', 'recently')}\r\n                value={attributes.offset}\r\n                onChange={onOffsetChange}\r\n            />\r\n        </Fragment>;\r\n    }\r\n\r\n    getFiltersFields()\r\n    {\r\n        const { attributes, setAttributes } = this.props;\r\n        const _self = this;\r\n\r\n        function onPostTypeChange(value)\r\n        {\r\n            let new_value = value.replace(/[^a-z0-9-_\\,]+/gi, '');\r\n            setAttributes({ post_type: new_value });\r\n        }\r\n\r\n        function onPostIDExcludeChange(value)\r\n        {\r\n            let new_value = value.replace(/[^0-9\\,]/g, '');\r\n            setAttributes({ post_id: new_value });\r\n        }\r\n\r\n        function onAuthorChange(value)\r\n        {\r\n            let new_value = value.replace(/[^0-9\\,]/g, '');\r\n            setAttributes({ author_id: new_value });\r\n        }\r\n\r\n        function onTaxChange(taxonomy_name, terms)\r\n        {\r\n            let taxonomies = _self.state.taxonomies;\r\n\r\n            terms = terms.replace(/[^0-9-\\,]/g, '');\r\n\r\n            if ( taxonomies && 'undefined' != typeof taxonomies[taxonomy_name] ) {\r\n                taxonomies[taxonomy_name]._terms = terms;\r\n                _self.setState({ taxonomies: taxonomies });\r\n            }\r\n        }\r\n\r\n        function onTaxBlur(taxonomy_name)\r\n        {\r\n            let taxonomies = _self.state.taxonomies;\r\n\r\n            if ( taxonomies && 'undefined' != typeof taxonomies[taxonomy_name] ) {\r\n                let terms_arr = taxonomies[taxonomy_name]._terms.split(',');\r\n\r\n                // Remove invalid values\r\n                if ( terms_arr.length )\r\n                    terms_arr = terms_arr.map((term) => term.trim())\r\n                        .filter((term) => '' != term && '-' != term);\r\n\r\n                // Remove duplicates\r\n                if ( terms_arr.length )\r\n                    terms_arr = Array.from(new Set(terms_arr));\r\n\r\n                taxonomies[taxonomy_name]._terms = terms_arr.join(',');\r\n\r\n                _self.setState({ taxonomies });\r\n\r\n                let tax = '',\r\n                    term_id = '';\r\n\r\n                for ( let key in _self.state.taxonomies ) {\r\n                    if ( _self.state.taxonomies.hasOwnProperty(key) ) {\r\n\r\n                        if ( ! _self.state.taxonomies[key]._terms.length )\r\n                            continue;\r\n\r\n                        tax += key + ';';\r\n                        term_id += _self.state.taxonomies[key]._terms + ';';\r\n                    }\r\n                }\r\n\r\n                // Remove trailing semicolon\r\n                if ( tax && term_id ) {\r\n                    tax = tax.replace(new RegExp(';$'), '');\r\n                    term_id = term_id.replace(new RegExp(';$'), '');\r\n                }\r\n\r\n                setAttributes({ taxonomy: tax, term_id: term_id });\r\n            }\r\n        }\r\n\r\n        let taxonomies = [];\r\n\r\n        if ( this.state.taxonomies ) {\r\n            for( const tax in this.state.taxonomies ) {\r\n                taxonomies.push(\r\n                    {\r\n                        name: this.state.taxonomies[tax].name,\r\n                        label: this.state.taxonomies[tax].labels.singular_name + ' (' + this.state.taxonomies[tax].name + ')',\r\n                        terms: this.state.taxonomies[tax]._terms\r\n                    }\r\n                );\r\n            }\r\n        }\r\n\r\n        return <Fragment>\r\n            <p className='not-a-legend'><strong>{__('Filters', 'recently')}</strong></p>\r\n            <TextControl\r\n                label={__('Post Type(s)', 'recently')}\r\n                help={__(' Post types, separated by comma.', 'recently')}\r\n                value={attributes.post_type}\r\n                onChange={onPostTypeChange}\r\n            />\r\n            <TextControl\r\n                label={__('Post ID(s) to exclude', 'recently')}\r\n                help={__(' Post / Page IDs, separated by comma.', 'recently')}\r\n                value={attributes.post_id}\r\n                onChange={onPostIDExcludeChange}\r\n            />\r\n            <TextControl\r\n                label={__('Author ID(s)', 'recently')}\r\n                help={__(' Author IDs, separated by comma (prefix a minus sign to exclude).', 'recently')}\r\n                value={attributes.author_id}\r\n                onChange={onAuthorChange}\r\n            />\r\n            { taxonomies && taxonomies.filter((tax) => 'post_format' != tax.name).map((tax) =>\r\n                {\r\n                    return (\r\n                        <TextControl\r\n                            label={tax.label}\r\n                            help={__('Term IDs must be comma separated, prefix a minus sign to exclude.', 'recently')}\r\n                            value={tax.terms}\r\n                            onChange={(terms) => onTaxChange(tax.name, terms)}\r\n                            onBlur={() => onTaxBlur(tax.name)}\r\n                        />\r\n                    );\r\n                }\r\n            )}\r\n        </Fragment>;\r\n    }\r\n\r\n    getPostSettingsFields()\r\n    {\r\n        const { attributes, setAttributes } = this.props;\r\n        const _self = this;\r\n\r\n        function onShortenTitleChange(value) {\r\n            if ( false == value ) \r\n                setAttributes({ title_length: 0, title_by_words: 0, shorten_title: value });\r\n            else\r\n                setAttributes({ shorten_title: value, title_length: 25 });\r\n        }\r\n\r\n        function onTitleLengthChange(value)\r\n        {\r\n            let length = Number.isInteger(Number(value)) && Number(value) >= 0 ? value : 0;\r\n            setAttributes({ title_length: Number(length) });\r\n        }\r\n\r\n        function onDisplayExcerptChange(value) {\r\n            if ( false == value )\r\n                setAttributes({ excerpt_length: 0, excerpt_by_words: 0, display_post_excerpt: value, excerpt_format: false });\r\n            else\r\n                setAttributes({ display_post_excerpt: value, excerpt_length: 55 });\r\n        }\r\n\r\n        function onExcerptLengthChange(value)\r\n        {\r\n            let length = Number.isInteger(Number(value)) && Number(value) >= 0 ? value : 0;\r\n            setAttributes({ excerpt_length: Number(length) });\r\n        }\r\n\r\n        function onDisplayThumbnailChange(value) {\r\n            if ( false == value )\r\n                setAttributes({ thumbnail_width: 0, thumbnail_height: 0, display_post_thumbnail: value, thumbnail_build: 'manual' });\r\n            else\r\n                setAttributes({ thumbnail_width: 75, thumbnail_height: 75, display_post_thumbnail: value });\r\n        }\r\n\r\n        function onThumbnailDimChange(dim, value)\r\n        {\r\n            let width = Number.isInteger(Number(value)) && Number(value) >= 0 ? value : 0;\r\n            setAttributes(( 'width' == dim ? { thumbnail_width: Number(width) } : { thumbnail_height: Number(width) } ));\r\n        }\r\n\r\n        function onThumbnailBuildChange(value)\r\n        {\r\n            if ( 'predefined' == value ) {\r\n                let fallback = 0;\r\n\r\n                setAttributes({\r\n                    thumbnail_width: _self.state.imgSizes[sizes[fallback].value].width,\r\n                    thumbnail_height: _self.state.imgSizes[sizes[fallback].value].height,\r\n                    thumbnail_size: sizes[fallback].value\r\n                });\r\n            } else {\r\n                setAttributes({\r\n                    thumbnail_width: 75,\r\n                    thumbnail_height: 75,\r\n                    thumbnail_size: ''\r\n                });\r\n            }\r\n            setAttributes({ thumbnail_build: value });\r\n        }\r\n\r\n        function onThumbnailSizeChange(value) {\r\n            setAttributes({\r\n                thumbnail_width: _self.state.imgSizes[value].width,\r\n                thumbnail_height: _self.state.imgSizes[value].height,\r\n                thumbnail_size: value\r\n            });\r\n        }\r\n\r\n        let sizes = [];\r\n\r\n        if ( this.state.imgSizes ) {\r\n            for( const size in this.state.imgSizes ) {\r\n                sizes.push(\r\n                    {\r\n                        label: size,\r\n                        value: size\r\n                    },\r\n                );\r\n            }\r\n        }\r\n\r\n        return <Fragment>\r\n            <p className='not-a-legend'><strong>{__('Posts settings', 'recently')}</strong></p>\r\n            <CheckboxControl\r\n                label={__('Shorten title', 'recently')}\r\n                checked={attributes.shorten_title}\r\n                onChange={onShortenTitleChange}\r\n            />\r\n            { attributes.shorten_title &&\r\n                <div className='option-subset'>\r\n                    <TextControl\r\n                        label={__('Shorten title to', 'recently')}\r\n                        value={attributes.title_length}\r\n                        onChange={onTitleLengthChange}\r\n                    />\r\n                    <SelectControl\r\n                        value={attributes.title_by_words}\r\n                        options={[\r\n                            { label: __('characters', 'recently'), value: 0 },\r\n                            { label: __('words', 'recently'), value: 1 },\r\n                        ]}\r\n                        onChange={(value) => setAttributes({ title_by_words: Number(value) })}\r\n                    />\r\n                </div>\r\n            }\r\n            <CheckboxControl\r\n                label={__('Display post excerpt', 'recently')}\r\n                checked={attributes.display_post_excerpt}\r\n                onChange={onDisplayExcerptChange}\r\n            />\r\n            { attributes.display_post_excerpt && \r\n                <div className='option-subset'>\r\n                    <CheckboxControl\r\n                        label={__('Keep text format and links', 'recently')}\r\n                        checked={attributes.excerpt_format}\r\n                        onChange={(value) => setAttributes({ excerpt_format: value })}\r\n                    />\r\n                    <TextControl\r\n                        label={__('Excerpt length', 'recently')}\r\n                        value={attributes.excerpt_length}\r\n                        onChange={onExcerptLengthChange}\r\n                    />\r\n                    <SelectControl\r\n                        value={attributes.excerpt_by_words}\r\n                        options={[\r\n                            { label: __('characters', 'recently'), value: 0 },\r\n                            { label: __('words', 'recently'), value: 1 },\r\n                        ]}\r\n                        onChange={(value) => setAttributes({ excerpt_by_words: Number(value) })}\r\n                    />\r\n                </div>\r\n            }\r\n            <CheckboxControl\r\n                label={__('Display post thumbnail', 'recently')}\r\n                checked={attributes.display_post_thumbnail}\r\n                onChange={onDisplayThumbnailChange}\r\n            />\r\n            { attributes.display_post_thumbnail && \r\n                <div className='option-subset'>\r\n                    <SelectControl\r\n                        value={attributes.thumbnail_build}\r\n                        options={[\r\n                            { label: __('Set size manually', 'recently'), value: 'manual' },\r\n                            { label: __('Use predefined size', 'recently'), value: 'predefined' },\r\n                        ]}\r\n                        onChange={onThumbnailBuildChange}\r\n                    />\r\n                    { 'manual' == attributes.thumbnail_build &&\r\n                        <Fragment>\r\n                            <TextControl\r\n                                label={__('Thumbnail width', 'recently')}\r\n                                help={__('Size in px units (pixels)', 'recently')}\r\n                                value={attributes.thumbnail_width}\r\n                                onChange={(value) => onThumbnailDimChange('width', value)}\r\n                            />\r\n                            <TextControl\r\n                                label={__('Thumbnail height', 'recently')}\r\n                                help={__('Size in px units (pixels)', 'recently')}\r\n                                value={attributes.thumbnail_height}\r\n                                onChange={(value) => onThumbnailDimChange('height', value)}\r\n                            />\r\n                        </Fragment>\r\n                    }\r\n                    { 'predefined' == attributes.thumbnail_build &&\r\n                        <Fragment>\r\n                            <SelectControl\r\n                                value={attributes.thumbnail_size}\r\n                                options={sizes}\r\n                                onChange={onThumbnailSizeChange}\r\n                            />\r\n                        </Fragment>\r\n                    }\r\n                </div>\r\n            }\r\n        </Fragment>;\r\n    }\r\n\r\n    getStatsTagFields()\r\n    {\r\n        const { attributes, setAttributes } = this.props;\r\n\r\n        let taxonomies = [];\r\n\r\n        if ( this.state.taxonomies ) {\r\n            for( const tax in this.state.taxonomies ) {\r\n                if ( 'post_format' == this.state.taxonomies[tax].name )\r\n                    continue;\r\n\r\n                taxonomies.push(\r\n                    {\r\n                        label: this.state.taxonomies[tax].labels.singular_name + ' (' + this.state.taxonomies[tax].name + ')',\r\n                        value: this.state.taxonomies[tax].name\r\n                    },\r\n                );\r\n            }\r\n        }\r\n\r\n        return <Fragment>\r\n            <p className='not-a-legend'><strong>{__('Stats Tag settings', 'recently')}</strong></p>\r\n            <CheckboxControl\r\n                label={__('Display comments count', 'recently')}\r\n                checked={attributes.meta_comments}\r\n                onChange={(value) => setAttributes({ meta_comments: value })}\r\n            />\r\n            { _recently.can_show_views &&\r\n                <CheckboxControl\r\n                    label={__('Display views', 'recently')}\r\n                    checked={attributes.meta_views}\r\n                    onChange={(value) => setAttributes({ meta_views: value })}\r\n                />\r\n            }\r\n            <CheckboxControl\r\n                label={__('Display author', 'recently')}\r\n                checked={attributes.meta_author}\r\n                onChange={(value) => setAttributes({ meta_author: value })}\r\n            />\r\n            <CheckboxControl\r\n                label={__('Display date', 'recently')}\r\n                checked={attributes.meta_date}\r\n                onChange={(value) => setAttributes({ meta_date: value })}\r\n            />\r\n            { attributes.meta_date && \r\n                <div className='option-subset'>\r\n                    <SelectControl\r\n                        label={__('Date Format', 'recently')}\r\n                        value={attributes.meta_date_format}\r\n                        options={[\r\n                            { label: __('Relative', 'recently'), value: 'relative' },\r\n                            { label: __('Month Day, Year', 'recently'), value: 'F j, Y' },\r\n                            { label: __('yyyy/mm/dd', 'recently'), value: 'Y/m/d' },\r\n                            { label: __('mm/dd/yyyy', 'recently'), value: 'm/d/Y' },\r\n                            { label: __('dd/mm/yyyy', 'recently'), value: 'd/m/Y' },\r\n                            { label: __('WordPress Date Format', 'recently'), value: 'wp_date_format' },\r\n                        ]}\r\n                        onChange={(value) => setAttributes({ meta_date_format: value })}\r\n                    />\r\n                </div>\r\n            }\r\n            <CheckboxControl\r\n                label={__('Display taxonomy', 'recently')}\r\n                checked={attributes.meta_taxonomy}\r\n                onChange={(value) => setAttributes({ meta_taxonomy: value })}\r\n            />\r\n            { attributes.meta_taxonomy && \r\n                <div className='option-subset'>\r\n                    <SelectControl\r\n                        multiple\r\n                        label={__('Taxonomy', 'recently')}\r\n                        value={attributes.meta_taxonomy_list}\r\n                        options={taxonomies}\r\n                        onChange={(value) => setAttributes({ meta_taxonomy_list: value })}\r\n                    />\r\n                </div>\r\n            }\r\n        </Fragment>;\r\n    }\r\n\r\n    getHTMLMarkupFields()\r\n    {\r\n        const { attributes, setAttributes } = this.props;\r\n        const _self = this;\r\n\r\n        function onThemeChange(value)\r\n        {\r\n            if ( 'undefined' != typeof _self.state.themes[value] ) {\r\n                let config = _self.state.themes[value].json.config;\r\n\r\n                setAttributes({\r\n                    shorten_title: config.shorten_title.active,\r\n                    title_length: config.shorten_title.length,\r\n                    title_by_words: config.shorten_title.words ? 1 : 0,\r\n                    display_post_excerpt: config['post-excerpt'].active,\r\n                    excerpt_format: config['post-excerpt'].format,\r\n                    excerpt_length: config['post-excerpt'].length,\r\n                    excerpt_by_words: config['post-excerpt'].words ? 1 : 0,\r\n                    display_post_thumbnail: config.thumbnail.active,\r\n                    thumbnail_build: config.thumbnail.build,\r\n                    thumbnail_width: config.thumbnail.width,\r\n                    thumbnail_height: config.thumbnail.height,\r\n                    meta_comments: config.meta_tag.comment_count,\r\n                    meta_views: config.meta_tag.views,\r\n                    meta_author: config.meta_tag.author,\r\n                    meta_date: config.meta_tag.date.active,\r\n                    meta_date_format: config.meta_tag.date.format,\r\n                    meta_taxonomy: config.meta_tag.taxonomy.active,\r\n                    taxonomy: config.meta_tag.taxonomy.name,\r\n                    custom_html: true,\r\n                    recently_start: config.markup['recently-start'],\r\n                    recently_end: config.markup['recently-end'],\r\n                    post_html: config.markup['post-html'],\r\n                    theme: value\r\n                });\r\n            } else {\r\n                setAttributes({ theme: value });\r\n            }\r\n        }\r\n\r\n        let themes = [\r\n            {\r\n                label: __('None', 'recently'),\r\n                value: ''\r\n            },\r\n        ];\r\n\r\n        if ( this.state.themes ) {\r\n            for( const theme in this.state.themes ) {\r\n                themes.push(\r\n                    {\r\n                        label: this.state.themes[theme].json.name,\r\n                        value: theme\r\n                    },\r\n                );\r\n            }\r\n        }\r\n\r\n        return <Fragment>\r\n            <p className='not-a-legend'><strong>{__('HTML Markup settings', 'recently')}</strong></p>\r\n            <CheckboxControl\r\n                label={__('Use custom HTML Markup', 'recently')}\r\n                checked={attributes.custom_html}\r\n                onChange={(value) => setAttributes({ custom_html: value })}\r\n            />\r\n            { attributes.custom_html &&\r\n                <div className='option-subset'>\r\n                    <TextareaControl\r\n                        rows=\"1\"\r\n                        label={__('Before title', 'recently')}\r\n                        value={attributes.header_start}\r\n                        onChange={(value) => setAttributes({ header_start: value })}\r\n                    />\r\n                    <TextareaControl\r\n                        rows=\"1\"\r\n                        label={__('After title', 'recently')}\r\n                        value={attributes.header_end}\r\n                        onChange={(value) => setAttributes({ header_end: value })}\r\n                    />\r\n                    <TextareaControl\r\n                        rows=\"1\"\r\n                        label={__('Before recent posts', 'recently')}\r\n                        value={attributes.recently_start}\r\n                        onChange={(value) => setAttributes({ recently_start: value })}\r\n                    />\r\n                    <TextareaControl\r\n                        rows=\"1\"\r\n                        label={__('After recent posts', 'recently')}\r\n                        value={attributes.recently_end}\r\n                        onChange={(value) => setAttributes({ recently_end: value })}\r\n                    />\r\n                    <TextareaControl\r\n                        label={__('Post HTML markup', 'recently')}\r\n                        value={attributes.post_html}\r\n                        onChange={(value) => setAttributes({ post_html: value })}\r\n                    />\r\n                </div>\r\n            }\r\n            <SelectControl\r\n                label={__('Theme', 'recently')}\r\n                value={attributes.theme}\r\n                options={themes}\r\n                onChange={onThemeChange}\r\n            />\r\n        </Fragment>;\r\n    }\r\n\r\n    render()\r\n    {\r\n        if ( ! this.state.taxonomies || ! this.state.themes || ! this.state.imgSizes )\r\n            return <Spinner />;\r\n\r\n        const { isSelected, className, attributes } = this.props;\r\n\r\n        let classes = className;\r\n        classes += this.state.editMode ? ' in-edit-mode' : ' in-preview-mode';\r\n        classes += isSelected ? ' is-selected' : '';\r\n\r\n        return ([\r\n            this.getBlockControls(),\r\n            <div className={classes}>\r\n                { this.state.editMode &&\r\n                    <Fragment>\r\n                        {this.getMainFields()}\r\n                        {this.getFiltersFields()}\r\n                        {this.getPostSettingsFields()}\r\n                        {this.getStatsTagFields()}\r\n                        {this.getHTMLMarkupFields()}\r\n                    </Fragment>\r\n                }\r\n                { ! this.state.editMode &&\r\n                    <Disabled>\r\n                        <ServerSideRender\r\n                            block={this.props.name}\r\n                            className={className}\r\n                            attributes={attributes}\r\n                            urlQueryArgs={{isSelected: isSelected}}\r\n                        />\r\n                    </Disabled>\r\n                }\r\n            </div>\r\n        ]);\r\n    }\r\n}\r\n","const icons = {};\r\n\r\nicons.recently = <svg\r\nxmlns=\"http://www.w3.org/2000/svg\"\r\nxmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\nenableBackground=\"new 0 0 595.3 841.9\"\r\nviewBox=\"0 0 595.3 841.9\"\r\n>\r\n<defs>\r\n  <path id=\"a\" d=\"M83.8 205h388v388h-388z\"></path>\r\n</defs>\r\n<clipPath id=\"b\">\r\n  <use overflow=\"visible\" xlinkHref=\"#a\"></use>\r\n</clipPath>\r\n<path\r\n  fill=\"#56b078\"\r\n  d=\"M217 188.9C136.7 229.6 90.1 310.9 89.7 396h68.6c.8-60.8 33.5-117.4 89.7-145.9 80.5-40.7 179-8.4 219.7 72.1 40.7 80.5 8.4 179-72.1 219.7-61.5 31.1-133.5 19.5-182.3-23.6l92.9-90.4h-217l-5.5 216.8 80.4-78.4c69.2 63.9 173.6 81.7 262.4 36.8 114.2-57.8 160.1-197.7 102.3-311.9C471.2 177 331.2 131.1 217 188.9zm-83.1 284.7h59.9l-61.4 59.9 1.5-59.9z\"\r\n  clipPath=\"url(#b)\"\r\n></path>\r\n</svg>\r\n\r\nexport default icons;","export function escape_html(value) {\r\n    const map = {\r\n        '&': '&amp;',\r\n        '<': '&lt;',\r\n        '>': '&gt;',\r\n        '\"': '&quot;',\r\n        \"'\": '&#x27;',\r\n        \"/\": '&#x2F;',\r\n        '`': '&grave;',\r\n    };\r\n    const reg = /[&<>\"'/]/ig;\r\n    return value.replace(reg, (match)=>(map[match]));\r\n}\r\n\r\nexport function unescape_html(value) {\r\n    var div = document.createElement('div');\r\n    div.innerHTML = value;\r\n    var child = div.childNodes[0];\r\n    return child ? child.nodeValue : '';\r\n}\r\n","module.exports = window[\"wp\"][\"element\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import icons from '../icons';\r\nimport { RecentlyWidgetBlockEdit } from './edit';\r\n\r\nconst { registerBlockType } = wp.blocks;\r\nconst { __ } = wp.i18n;\r\n\r\nregisterBlockType('recently/widget', {\r\n    title: 'Recently',\r\n    category: 'widgets',\r\n    icon: icons.recently,\r\n    description: __('A highly customizable block that displays your most recent posts.', 'recently'),\r\n    keywords: ['recent', 'posts', 'recently'],\r\n\r\n    attributes: {\r\n        _editMode: {\r\n            type: 'boolean',\r\n            default: true\r\n        },\r\n        _isSelected: {\r\n            type: 'boolean',\r\n            default: false\r\n        },\r\n        blockID: {\r\n            type: 'string'\r\n        },\r\n        title: {\r\n            type: 'string',\r\n        },\r\n        posts_per_page: {\r\n            type: 'number',\r\n            default: 10\r\n        },\r\n        offset: {\r\n            type: 'number',\r\n            default: 0\r\n        },\r\n        /* filters */\r\n        post_type: {\r\n            type: 'string',\r\n            default: 'post'\r\n        },\r\n        post_id: {\r\n            type: 'string',\r\n            default: ''\r\n        },\r\n        author_id: {\r\n            type: 'string',\r\n            default: ''\r\n        },\r\n        taxonomy: {\r\n            type: 'string',\r\n            default: ''\r\n        },\r\n        term_id: {\r\n            type: 'string',\r\n            default: ''\r\n        },\r\n        term_slug: {\r\n            type: 'string',\r\n            default: ''\r\n        },\r\n        /* post settings */\r\n        shorten_title: {\r\n            type: 'boolean',\r\n            default: false\r\n        },\r\n        title_length: {\r\n            type: 'number',\r\n            default: 0\r\n        },\r\n        title_by_words: {\r\n            type: 'number',\r\n            default: 0\r\n        },\r\n        display_post_excerpt: {\r\n            type: 'boolean',\r\n            default: false\r\n        },\r\n        excerpt_format: {\r\n            type: 'boolean',\r\n            default: false\r\n        },\r\n        excerpt_length: {\r\n            type: 'number',\r\n            default: 0\r\n        },\r\n        excerpt_by_words: {\r\n            type: 'number',\r\n            default: 0\r\n        },\r\n        display_post_thumbnail: {\r\n            type: 'boolean',\r\n            default: false\r\n        },\r\n        thumbnail_width: {\r\n            type: 'number',\r\n            default: 0\r\n        },\r\n        thumbnail_height: {\r\n            type: 'number',\r\n            default: 0\r\n        },\r\n        thumbnail_build: {\r\n            type: 'string',\r\n            default: 'manual'\r\n        },\r\n        thumbnail_size: {\r\n            type: 'string',\r\n            default: ''\r\n        },\r\n        /* stats tag settings */\r\n        meta_comments: {\r\n            type: 'boolean',\r\n            default: true\r\n        },\r\n        meta_views: {\r\n            type: 'boolean',\r\n            default: false\r\n        },\r\n        meta_author: {\r\n            type: 'boolean',\r\n            default: false\r\n        },\r\n        meta_date: {\r\n            type: 'boolean',\r\n            default: false\r\n        },\r\n        meta_date_format: {\r\n            type: 'string',\r\n            default: 'F j, Y'\r\n        },\r\n        meta_taxonomy: {\r\n            type: 'boolean',\r\n            default: false\r\n        },\r\n        meta_taxonomy_list: {\r\n            type: 'array',\r\n            default: ['category']\r\n        },\r\n        /* HTML markup settings */\r\n        custom_html: {\r\n            type: 'boolean',\r\n            default: false\r\n        },\r\n        header_start: {\r\n            type: 'string',\r\n            default: '<h2>'\r\n        },\r\n        header_end: {\r\n            type: 'string',\r\n            default: '</h2>'\r\n        },\r\n        recently_start: {\r\n            type: 'string',\r\n            default: '<ul class=\"recently-list\">'\r\n        },\r\n        recently_end: {\r\n            type: 'string',\r\n            default: '</ul>'\r\n        },\r\n        post_html: {\r\n            type: 'string',\r\n            default: '<li>{thumb} {title} {meta}</li>'\r\n        },\r\n        theme: {\r\n            type: 'string',\r\n            default: ''\r\n        },\r\n    },\r\n    supports: {\r\n        anchor: true,\r\n        align: true,\r\n        html: false\r\n    },\r\n    example: {\r\n        attributes: {\r\n            _editMode: false,\r\n            title: 'Recent Posts',\r\n            limit: 3,\r\n            display_post_excerpt: true,\r\n            excerpt_length: 75,\r\n            display_post_thumbnail: true,\r\n            thumbnail_width: 75,\r\n            thumbnail_height: 75,\r\n            meta_comments: false,\r\n            meta_taxonomy: true,\r\n            custom_html: true,\r\n            recently_start: '<ul class=\"recently-list recently-cards\">',\r\n            post_html: '<li>{thumb_img} <div class=\"recently-item-data\"><div class=\"taxonomies\">{taxonomy}</div>{title} <p class=\"wpp-excerpt\">{excerpt}</p></div></li>',\r\n            theme: 'cards'\r\n        }\r\n    },\r\n\r\n    edit: RecentlyWidgetBlockEdit,\r\n\r\n    save: () => {\r\n        return null;\r\n    }\r\n});\r\n"],"names":["escape_html","unescape_html","serverSideRender","ServerSideRender","wp","Component","Fragment","element","BlockControls","blockEditor","CheckboxControl","Disabled","SelectControl","Spinner","TextareaControl","TextControl","Toolbar","ToolbarButton","components","__","i18n","endpoint","RecentlyWidgetBlockEdit","constructor","props","state","error","editMode","themes","imgSizes","taxonomies","attributes","setAttributes","clientId","blockID","componentDidMount","getThemes","getImageSizes","getTaxonomies","setState","_editMode","apiFetch","path","then","tax","taxonomy","split","term_id","term_slug","length","selected_taxonomies","t","_terms","getBlockControls","_self","onPreviewChange","getMainFields","onTitleChange","value","title","onLimitChange","limit","Number","isInteger","posts_per_page","onOffsetChange","offset","getFiltersFields","onPostTypeChange","new_value","replace","post_type","onPostIDExcludeChange","post_id","onAuthorChange","author_id","onTaxChange","taxonomy_name","terms","onTaxBlur","terms_arr","map","term","trim","filter","Array","from","Set","join","key","hasOwnProperty","RegExp","push","name","label","labels","singular_name","getPostSettingsFields","onShortenTitleChange","title_length","title_by_words","shorten_title","onTitleLengthChange","onDisplayExcerptChange","excerpt_length","excerpt_by_words","display_post_excerpt","excerpt_format","onExcerptLengthChange","onDisplayThumbnailChange","thumbnail_width","thumbnail_height","display_post_thumbnail","thumbnail_build","onThumbnailDimChange","dim","width","onThumbnailBuildChange","fallback","sizes","height","thumbnail_size","onThumbnailSizeChange","size","getStatsTagFields","meta_comments","_recently","can_show_views","meta_views","meta_author","meta_date","meta_date_format","meta_taxonomy","meta_taxonomy_list","getHTMLMarkupFields","onThemeChange","config","json","active","words","format","thumbnail","build","meta_tag","comment_count","views","author","date","custom_html","recently_start","markup","recently_end","post_html","theme","header_start","header_end","render","isSelected","className","classes","icons","recently","reg","match","div","document","createElement","innerHTML","child","childNodes","nodeValue","registerBlockType","blocks","category","icon","description","keywords","type","default","_isSelected","supports","anchor","align","html","example","edit","save"],"sourceRoot":""}