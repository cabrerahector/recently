/* Recently | @cabrerahector */var recently_params=null,RecentlyWidget=function(){var g=function(){},f=!!HTMLElement.prototype.attachShadow,e=function(b,c,a,h){var d=new XMLHttpRequest;b=-1!=["GET","POST"].indexOf(b)?b:"GET";d.open(b,c+("GET"==b?"?"+a:""),!0);"POST"==b&&d.setRequestHeader("Content-type","application/x-www-form-urlencoded");d.setRequestHeader("X-Requested-With","XMLHttpRequest");d.onreadystatechange=function(){4===d.readyState&&200<=d.status&&300>d.status&&"function"===typeof h&&h.call(void 0,d.response)};d.send("POST"==
b?a:null)};return{get:function(b,c,a){a="function"===typeof a?a:g;e("GET",b,c,a)},post:function(b,c,a){a="function"===typeof a?a:g;e("POST",b,c,a)},ajax:e,theme:function(b){if(f){var c=document.createElement("style"),a=document.createElement("ul");a.innerHTML='<li><a href="#"></a></li>';b.parentNode.appendChild(a);var h=getComputedStyle(a.querySelector("li")),d=getComputedStyle(a.querySelector("li a"));c.innerHTML=".recently-list li {font-size: "+h.fontSize+"}";c.innerHTML+=".recently-list li a {color: "+
d.color+"}";b.parentNode.removeChild(a);a=b.attachShadow({mode:"open"});for(a.append(c);b.firstElementChild;)a.append(b.firstElementChild)}}}}();(function(){try{var g=document.querySelector("script#recently-json");recently_params=JSON.parse(g.textContent)}catch(f){console.error("Recently: Couldn't read JSON data")}})();
document.addEventListener("DOMContentLoaded",function(){function g(b){RecentlyWidget.get(recently_params.ajax_url+"/widget/"+b.getAttribute("data-widget-id").split("-")[1],"is_single="+recently_params.ID+(recently_params.lang?"&lang="+recently_params.lang:""),function(c){b.insertAdjacentHTML("afterend",JSON.parse(c).widget);c=b.parentNode;var a=c.querySelector(".recently-sr");c.removeChild(b);a&&RecentlyWidget.theme(a)})}var f=document.querySelectorAll(".recently-widget-placeholder");if(f.length)for(var e=
0;e<f.length;e++)g(f[e]);else if(f=document.querySelectorAll(".recently-sr"),f.length)for(e=0;e<f.length;e++)RecentlyWidget.theme(f[e])});