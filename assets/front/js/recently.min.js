/* Recently | @cabrerahector */var recently_params=null,RecentlyWidget=function(){var m=function(){},h=!!HTMLElement.prototype.attachShadow,g=function(b,c,a,f,k){var d=new XMLHttpRequest,e={"X-Requested-With":"XMLHttpRequest"};b=-1!=["GET","POST"].indexOf(b)?b:"GET";"POST"==b&&(e["Content-Type"]="application/x-www-form-urlencoded");"object"==typeof k&&Object.keys(k).length&&(e=Object.assign({},e,k));d.open(b,c+("GET"==b?"?"+a:""),!0);for(var l in e)e.hasOwnProperty(l)&&d.setRequestHeader(l,e[l]);d.onreadystatechange=function(){4===
d.readyState&&200<=d.status&&300>d.status&&"function"===typeof f&&f.call(void 0,d.response)};d.send("POST"==b?a:null)};return{get:function(b,c,a,f){a="function"===typeof a?a:m;g("GET",b,c,a,f)},post:function(b,c,a,f){a="function"===typeof a?a:m;g("POST",b,c,a,f)},ajax:g,theme:function(b){if(h){var c=document.createElement("style"),a=document.createElement("ul");a.innerHTML='<li><a href="#"></a></li>';b.parentNode.appendChild(a);var f=getComputedStyle(a.querySelector("li")),k=getComputedStyle(a.querySelector("li a"));
c.innerHTML=".recently-list li {font-size: "+f.fontSize+"}";c.innerHTML+=".recently-list li a {color: "+k.color+"}";b.parentNode.removeChild(a);a=b.attachShadow({mode:"open"});for(a.append(c);b.firstElementChild;)a.append(b.firstElementChild)}}}}();(function(){try{var m=document.querySelector("script#recently-json");recently_params=JSON.parse(m.textContent)}catch(h){console.error("Recently: Couldn't read JSON data")}})();
document.addEventListener("DOMContentLoaded",function(){function m(b){var c=b.getAttribute("data-widget-id"),a="GET",f="",k={},d="";if(c)f=recently_params.ajax_url+"/widget/"+c.split("-")[1],d="is_single="+recently_params.ID+(recently_params.lang?"&lang="+recently_params.lang:"");else if(a="POST",f=recently_params.api_url+"/v2/widget?is_single="+recently_params.ID+(recently_params.lang?"&lang="+recently_params.lang:""),k={"Content-Type":"application/json"},c=b.parentNode.querySelector('script[type="application/json"]'))d=
JSON.parse(c.textContent),d=JSON.stringify(d);RecentlyWidget.ajax(a,f,d,function(e){b.insertAdjacentHTML("afterend",JSON.parse(e).widget);e=b.parentNode;var l=e.querySelector(".recently-sr");e.querySelector('script[type="application/json"]');e.removeChild(b);e.classList.add("recently-ajax");l&&RecentlyWidget.theme(l);l=new Event("recently-onload",{bubbles:!0,cancelable:!1});e.dispatchEvent(l)},k)}for(var h=document.querySelectorAll(".recently-widget-placeholder, .recently-widget-block-placeholder"),
g=0;g<h.length;)m(h[g]),g++;h=document.querySelectorAll(".recently-sr");if(h.length)for(g=0;g<h.length;g++)RecentlyWidget.theme(h[g])});